var map, infoWindow, tractKml;
var eduData = [{"PreHighSchool":"20110","HighSchool":"12663","SomeCollegeAssociate":"14620","Bachelor":"null","Pro":"null","tract":"010100"},{"PreHighSchool":"14952","HighSchool":"35556","SomeCollegeAssociate":"18875","Bachelor":"62612","Pro":"56364","tract":"010200"},{"PreHighSchool":"15096","HighSchool":"21860","SomeCollegeAssociate":"42212","Bachelor":"null","Pro":"null","tract":"010300"},{"PreHighSchool":"11462","HighSchool":"18858","SomeCollegeAssociate":"13750","Bachelor":"2499","Pro":"null","tract":"010400"},{"PreHighSchool":"29450","HighSchool":"7684","SomeCollegeAssociate":"8750","Bachelor":"null","Pro":"32313","tract":"010500"},{"PreHighSchool":"null","HighSchool":"24955","SomeCollegeAssociate":"37188","Bachelor":"33446","Pro":"42148","tract":"010800"},{"PreHighSchool":"8427","HighSchool":"31280","SomeCollegeAssociate":"29297","Bachelor":"34735","Pro":"67344","tract":"011000"},{"PreHighSchool":"16786","HighSchool":"21066","SomeCollegeAssociate":"12452","Bachelor":"17176","Pro":"null","tract":"011100"},{"PreHighSchool":"16473","HighSchool":"10481","SomeCollegeAssociate":"35000","Bachelor":"null","Pro":"null","tract":"011500"},{"PreHighSchool":"12370","HighSchool":"33783","SomeCollegeAssociate":"32292","Bachelor":"41750","Pro":"81442","tract":"011701"},{"PreHighSchool":"30867","HighSchool":"17010","SomeCollegeAssociate":"24583","Bachelor":"34318","Pro":"7188","tract":"011702"},{"PreHighSchool":"22292","HighSchool":"26424","SomeCollegeAssociate":"37853","Bachelor":"55250","Pro":"83563","tract":"011800"},{"PreHighSchool":"10714","HighSchool":"30984","SomeCollegeAssociate":"26226","Bachelor":"44267","Pro":"55893","tract":"011900"},{"PreHighSchool":"19115","HighSchool":"24919","SomeCollegeAssociate":"33725","Bachelor":"43470","Pro":"54076","tract":"012000"},{"PreHighSchool":"null","HighSchool":"47778","SomeCollegeAssociate":"31607","Bachelor":"38125","Pro":"225875","tract":"012101"},{"PreHighSchool":"9696","HighSchool":"30130","SomeCollegeAssociate":"22012","Bachelor":"37108","Pro":"62500","tract":"012102"},{"PreHighSchool":"16150","HighSchool":"40174","SomeCollegeAssociate":"31267","Bachelor":"51658","Pro":"46402","tract":"012200"},{"PreHighSchool":"13143","HighSchool":"24583","SomeCollegeAssociate":"17674","Bachelor":"16500","Pro":"30690","tract":"012300"},{"PreHighSchool":"22824","HighSchool":"19977","SomeCollegeAssociate":"17074","Bachelor":"40607","Pro":"31397","tract":"012400"},{"PreHighSchool":"20682","HighSchool":"22703","SomeCollegeAssociate":"18056","Bachelor":"27269","Pro":"null","tract":"012500"},{"PreHighSchool":"14075","HighSchool":"18727","SomeCollegeAssociate":"22457","Bachelor":"30417","Pro":"43750","tract":"012600"},{"PreHighSchool":"16353","HighSchool":"15233","SomeCollegeAssociate":"14327","Bachelor":"29055","Pro":"null","tract":"012700"},{"PreHighSchool":"15815","HighSchool":"16339","SomeCollegeAssociate":"20990","Bachelor":"38036","Pro":"null","tract":"012800"},{"PreHighSchool":"14297","HighSchool":"16316","SomeCollegeAssociate":"20038","Bachelor":"28648","Pro":"null","tract":"012900"},{"PreHighSchool":"16358","HighSchool":"21938","SomeCollegeAssociate":"30661","Bachelor":"21278","Pro":"null","tract":"013101"},{"PreHighSchool":"18333","HighSchool":"21213","SomeCollegeAssociate":"23029","Bachelor":"38432","Pro":"56385","tract":"013102"},{"PreHighSchool":"17363","HighSchool":"23021","SomeCollegeAssociate":"24091","Bachelor":"31173","Pro":"57625","tract":"013201"},{"PreHighSchool":"16944","HighSchool":"26389","SomeCollegeAssociate":"25606","Bachelor":"50990","Pro":"65337","tract":"013202"},{"PreHighSchool":"15152","HighSchool":"23088","SomeCollegeAssociate":"31210","Bachelor":"31054","Pro":"55417","tract":"013302"},{"PreHighSchool":"7050","HighSchool":"26365","SomeCollegeAssociate":"30057","Bachelor":"48988","Pro":"67250","tract":"013407"},{"PreHighSchool":"43750","HighSchool":"28750","SomeCollegeAssociate":"50151","Bachelor":"58266","Pro":"72768","tract":"013408"},{"PreHighSchool":"16315","HighSchool":"30556","SomeCollegeAssociate":"39157","Bachelor":"51776","Pro":"64671","tract":"013409"},{"PreHighSchool":"27778","HighSchool":"33505","SomeCollegeAssociate":"31689","Bachelor":"56303","Pro":"60268","tract":"013410"},{"PreHighSchool":"19750","HighSchool":"21294","SomeCollegeAssociate":"32650","Bachelor":"39506","Pro":"100859","tract":"013411"},{"PreHighSchool":"18421","HighSchool":"9929","SomeCollegeAssociate":"27330","Bachelor":"60506","Pro":"51833","tract":"013502"},{"PreHighSchool":"null","HighSchool":"15027","SomeCollegeAssociate":"21804","Bachelor":"51842","Pro":"64423","tract":"013503"},{"PreHighSchool":"27197","HighSchool":"32549","SomeCollegeAssociate":"40395","Bachelor":"38152","Pro":"54071","tract":"013504"},{"PreHighSchool":"8914","HighSchool":"19896","SomeCollegeAssociate":"40833","Bachelor":"41250","Pro":"75962","tract":"013603"},{"PreHighSchool":"19932","HighSchool":"28125","SomeCollegeAssociate":"32922","Bachelor":"90347","Pro":"89048","tract":"013604"},{"PreHighSchool":"10536","HighSchool":"30467","SomeCollegeAssociate":"28917","Bachelor":"44268","Pro":"64485","tract":"013605"},{"PreHighSchool":"45196","HighSchool":"33044","SomeCollegeAssociate":"29660","Bachelor":"54865","Pro":"70515","tract":"013606"},{"PreHighSchool":"4265","HighSchool":"14141","SomeCollegeAssociate":"35250","Bachelor":"42981","Pro":"51971","tract":"013700"},{"PreHighSchool":"15227","HighSchool":"4755","SomeCollegeAssociate":"20625","Bachelor":"31250","Pro":"null","tract":"013800"},{"PreHighSchool":"8750","HighSchool":"19922","SomeCollegeAssociate":"20806","Bachelor":"53750","Pro":"16932","tract":"013900"}];
function init(){
  map = new google.maps.Map($("map"), {
    center: new google.maps.LatLng( 32.83895,-83.62913 ),
    zoom: 10,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    streetViewControl: false,
    panControl: false,
    zoomControl: true
  });

  /* tractKml = new google.maps.KmlLayer('http://maconmaps.herokuapp.com/BibbTract.kml?v=2', { suppressInfoWindows: true, preserveViewport: true, map: map });
  google.maps.event.addListener(tractKml, 'click', function(kmlEvent) {
    //console.log( kmlEvent );
  }); */
  
  loadTracts();
  loadEduData();
}

function loadTracts(){
  tractKml = {
"013800":[-83.605924,32.851771,-83.60591,32.848225,-83.600985,32.848675,-83.595166,32.84613,-83.597521,32.844025,-83.59651,32.840271,-83.599946,32.839419,-83.599557,32.836774,-83.604012,32.836762,-83.606934,32.83448,-83.603627,32.83267,-83.60504,32.832056,-83.603321,32.830008,-83.605501,32.827638,-83.613676,32.834896,-83.62398,32.84068,-83.62819,32.845827,-83.61947,32.852584,-83.615991,32.852553,-83.616001,32.853915,-83.605972,32.853879,-83.605924,32.851771],
"013900":[-83.6613,32.762531,-83.660037,32.76897,-83.66604,32.77106,-83.666591,32.773744,-83.66471,32.775115,-83.665757,32.77838,-83.672685,32.784869,-83.668225,32.788238,-83.66408,32.780576,-83.65123,32.780262,-83.65226,32.78468,-83.651153,32.788536,-83.642325,32.794403,-83.64266,32.813789,-83.640085,32.813782,-83.64001,32.815592,-83.624444,32.833809,-83.624257,32.835825,-83.620354,32.838715,-83.605501,32.827638,-83.603321,32.830008,-83.60504,32.832056,-83.603627,32.83267,-83.606887,32.834538,-83.604012,32.836762,-83.599557,32.836774,-83.599901,32.839477,-83.596434,32.840398,-83.597529,32.843978,-83.595649,32.845914,-83.593387,32.845329,-83.585894,32.849266,-83.579059,32.846933,-83.57823,32.843722,-83.5749,32.841628,-83.575281,32.838572,-83.562926,32.833517,-83.56137,32.828668,-83.554504,32.820813,-83.54183,32.814304,-83.538238,32.806088,-83.532056,32.800173,-83.52277,32.79281,-83.516238,32.789896,-83.578715,32.738118,-83.585593,32.744836,-83.59295,32.738857,-83.59902,32.743442,-83.602186,32.741448,-83.598679,32.740367,-83.601879,32.738526,-83.597609,32.736685,-83.599945,32.733759,-83.595052,32.731797,-83.600125,32.729785,-83.596524,32.728524,-83.598063,32.725296,-83.60079,32.725144,-83.598417,32.722901,-83.600478,32.721021,-83.599271,32.718092,-83.603412,32.719973,-83.602032,32.722172,-83.604438,32.723813,-83.606721,32.733091,-83.60986,32.735328,-83.61477,32.735546,-83.618325,32.740905,-83.616594,32.744595,-83.612917,32.74565,-83.612097,32.750783,-83.616354,32.761617,-83.618793,32.763513,-83.628129,32.757357,-83.63142,32.759334,-83.646947,32.758526,-83.649443,32.760472,-83.6613,32.762531],
"013411":[-83.770896,32.916248,-83.724553,32.944831,-83.730613,32.945013,-83.730568,32.951017,-83.73415,32.951009,-83.734112,32.952393,-83.710685,32.952792,-83.70512,32.950218,-83.700551,32.943976,-83.701688,32.938883,-83.69585,32.91662,-83.674418,32.901865,-83.677155,32.90262,-83.678244,32.899628,-83.677101,32.898037,-83.680099,32.895656,-83.687007,32.903517,-83.705952,32.917859,-83.731353,32.928215,-83.73736,32.925977,-83.743369,32.920163,-83.745316,32.915542,-83.74554,32.907714,-83.762581,32.907867,-83.774408,32.91407,-83.770896,32.916248],
"013700":[-83.638127,32.822806,-83.645211,32.827111,-83.645536,32.830722,-83.650326,32.832794,-83.646,32.83796,-83.635399,32.834525,-83.63105,32.839657,-83.63263,32.840961,-83.62819,32.845827,-83.620354,32.838715,-83.624257,32.835825,-83.624444,32.833809,-83.6353,32.821095,-83.638127,32.822806],
"013603":[-83.763983,32.7484,-83.764394,32.752324,-83.759486,32.76206,-83.755091,32.777361,-83.758478,32.793557,-83.7503,32.801724,-83.74554,32.80977,-83.735287,32.813519,-83.72894,32.818025,-83.721053,32.80021,-83.719118,32.786848,-83.711246,32.77292,-83.711071,32.757415,-83.711801,32.752881,-83.721522,32.739554,-83.737495,32.694135,-83.744423,32.698942,-83.747208,32.705271,-83.75113,32.70404,-83.752807,32.70619,-83.7533,32.704858,-83.753738,32.707411,-83.755962,32.707162,-83.760587,32.71378,-83.763886,32.71496,-83.771823,32.714323,-83.776682,32.718356,-83.766403,32.72294,-83.765711,32.742182,-83.763983,32.7484],
"013606":[-83.890927,32.818905,-83.89205,32.819558,-83.891391,32.848847,-83.866095,32.864718,-83.832867,32.866044,-83.808832,32.86385,-83.78388,32.851534,-83.76169,32.851267,-83.746026,32.834967,-83.733149,32.833191,-83.72894,32.818025,-83.742908,32.80997,-83.747888,32.809865,-83.753521,32.812528,-83.762247,32.806387,-83.768732,32.804252,-83.77926,32.808687,-83.807606,32.802282,-83.816655,32.806044,-83.831552,32.80894,-83.86512,32.799674,-83.869373,32.804101,-83.87326,32.803897,-83.876942,32.806944,-83.875902,32.81121,-83.87868,32.812786,-83.877444,32.81369,-83.878532,32.816356,-83.882201,32.818354,-83.886242,32.817175,-83.887879,32.819448,-83.890927,32.818905],
"013604":[-83.764238,32.750016,-83.766403,32.72294,-83.776874,32.718809,-83.78248,32.721814,-83.785923,32.720433,-83.791434,32.725921,-83.798958,32.724882,-83.801929,32.727629,-83.803621,32.726889,-83.802968,32.728046,-83.804721,32.72929,-83.808656,32.728716,-83.81028,32.729796,-83.809997,32.732756,-83.814137,32.733794,-83.818873,32.740386,-83.823069,32.740811,-83.8276,32.745342,-83.8285,32.749788,-83.831763,32.751986,-83.830124,32.754393,-83.834801,32.758001,-83.837666,32.764435,-83.83938,32.764639,-83.84119,32.768026,-83.845208,32.768704,-83.84691,32.772295,-83.850634,32.770142,-83.851387,32.771987,-83.847666,32.775312,-83.853344,32.781337,-83.851409,32.785465,-83.856561,32.787847,-83.856924,32.793743,-83.861825,32.79448,-83.86031,32.796811,-83.86512,32.799674,-83.831892,32.808916,-83.816655,32.806044,-83.807606,32.802282,-83.77926,32.808687,-83.768543,32.804279,-83.762247,32.806387,-83.753219,32.812569,-83.74554,32.80977,-83.7503,32.801724,-83.758584,32.793332,-83.755091,32.777361,-83.764238,32.750016],
"013504":[-83.67078,32.748928,-83.668704,32.752097,-83.661874,32.756725,-83.655479,32.746716,-83.66506,32.7303,-83.666098,32.709397,-83.670003,32.701752,-83.69018,32.686991,-83.692148,32.688674,-83.69778,32.689148,-83.69997,32.691935,-83.70681,32.691791,-83.70724,32.693289,-83.709767,32.691888,-83.714184,32.693337,-83.720415,32.69248,-83.722063,32.694665,-83.725429,32.693709,-83.726677,32.696241,-83.729571,32.697189,-83.735592,32.69368,-83.737495,32.694135,-83.721618,32.739312,-83.718513,32.744495,-83.711941,32.742146,-83.705364,32.744036,-83.69225,32.743662,-83.68246,32.747086,-83.672301,32.746288,-83.67078,32.748928],
"013409":[-83.762939,32.862864,-83.762593,32.864085,-83.77158,32.863622,-83.78865,32.867691,-83.7935,32.871691,-83.794519,32.874715,-83.797421,32.875,-83.806688,32.883178,-83.81001,32.88375,-83.811543,32.887186,-83.817282,32.890407,-83.818821,32.894031,-83.791989,32.907677,-83.77227,32.883294,-83.748666,32.861472,-83.755395,32.858502,-83.760034,32.859873,-83.762939,32.862864],
"013605":[-83.7624,32.86337,-83.76023,32.86,-83.755395,32.858502,-83.748666,32.861472,-83.745969,32.858941,-83.733149,32.833191,-83.746026,32.834967,-83.762024,32.851407,-83.78388,32.851534,-83.809297,32.863976,-83.832492,32.866041,-83.866095,32.864718,-83.818821,32.894031,-83.817282,32.890407,-83.811543,32.887186,-83.81001,32.88375,-83.806688,32.883178,-83.797421,32.875,-83.794519,32.874715,-83.7935,32.871691,-83.78865,32.867691,-83.77158,32.863622,-83.7624,32.86337],
"013503":[-83.665506,32.754206,-83.669414,32.751382,-83.672301,32.746288,-83.68246,32.747086,-83.691939,32.743691,-83.705364,32.744036,-83.711765,32.742148,-83.718513,32.744495,-83.700087,32.76697,-83.672685,32.784869,-83.665757,32.77838,-83.66471,32.775115,-83.666591,32.773744,-83.66604,32.77106,-83.660037,32.76897,-83.661874,32.756725,-83.665506,32.754206],
"012101":[-83.693166,32.859061,-83.716721,32.858127,-83.731667,32.879621,-83.727319,32.875493,-83.724005,32.877091,-83.725005,32.878476,-83.72371,32.879768,-83.6969,32.867755,-83.688766,32.862661,-83.693166,32.859061],
"013408":[-83.717576,32.913291,-83.71719,32.878183,-83.722955,32.880163,-83.729969,32.887844,-83.732397,32.89844,-83.739881,32.905524,-83.74554,32.907714,-83.745316,32.915542,-83.743369,32.920163,-83.73736,32.925977,-83.731353,32.928215,-83.71879,32.923126,-83.720585,32.915413,-83.717576,32.913291],
"012102":[-83.6902,32.872467,-83.68896,32.862789,-83.71621,32.876942,-83.718196,32.883293,-83.717393,32.887618,-83.712827,32.885198,-83.696016,32.886443,-83.703135,32.899088,-83.69258,32.897485,-83.682128,32.89327,-83.68063,32.895103,-83.673283,32.886169,-83.682129,32.88268,-83.6902,32.872467],
"013410":[-83.73034,32.890108,-83.730105,32.888026,-83.7237,32.880777,-83.716416,32.877791,-83.72371,32.879768,-83.725005,32.878476,-83.72411,32.87697,-83.727521,32.875507,-83.731667,32.879621,-83.718986,32.862969,-83.718625,32.860065,-83.71522,32.857152,-83.713589,32.853351,-83.714325,32.851031,-83.712066,32.851291,-83.71002,32.848352,-83.709101,32.839405,-83.71249,32.839288,-83.71724,32.842042,-83.718777,32.846504,-83.721893,32.848844,-83.723511,32.848053,-83.724915,32.850952,-83.733031,32.850105,-83.73635,32.854098,-83.74194,32.852241,-83.746135,32.859112,-83.77227,32.883294,-83.791989,32.907677,-83.774408,32.91407,-83.76222,32.907764,-83.745213,32.907668,-83.739881,32.905524,-83.73226,32.898291,-83.73034,32.890108],
"013407":[-83.682215,32.893304,-83.69258,32.897485,-83.703135,32.899088,-83.696016,32.886443,-83.712827,32.885198,-83.717393,32.887618,-83.716654,32.911101,-83.720599,32.915551,-83.71879,32.923126,-83.706331,32.918097,-83.687107,32.903602,-83.680099,32.895656,-83.682215,32.893304],
"013302":[-83.49799,32.800736,-83.502114,32.801416,-83.516238,32.789896,-83.52277,32.79281,-83.538238,32.806088,-83.54183,32.814304,-83.554504,32.820813,-83.56137,32.828668,-83.562926,32.833517,-83.575281,32.838572,-83.5749,32.841628,-83.57823,32.843722,-83.579059,32.846933,-83.573561,32.843738,-83.568673,32.844997,-83.55504,32.85494,-83.548693,32.863441,-83.52342,32.841291,-83.51636,32.847186,-83.48943,32.82406,-83.498364,32.815545,-83.496984,32.812672,-83.498821,32.810575,-83.49648,32.806949,-83.492938,32.805149,-83.49799,32.800736],
"013502":[-83.661636,32.762363,-83.649443,32.760472,-83.646947,32.758526,-83.63142,32.759334,-83.628129,32.757357,-83.620648,32.763054,-83.618793,32.763513,-83.616354,32.761617,-83.612473,32.752674,-83.613412,32.747875,-83.612345,32.746985,-83.616594,32.744595,-83.618325,32.740905,-83.61477,32.735546,-83.60986,32.735328,-83.606721,32.733091,-83.604438,32.723813,-83.601965,32.721819,-83.60418,32.717269,-83.600834,32.717736,-83.601392,32.714602,-83.596892,32.714033,-83.600507,32.708232,-83.599834,32.704023,-83.602683,32.701155,-83.60495,32.701746,-83.602373,32.699573,-83.606905,32.701542,-83.608167,32.697947,-83.610262,32.698836,-83.60963,32.696607,-83.611569,32.694879,-83.608586,32.692636,-83.608609,32.69099,-83.606428,32.690995,-83.60834,32.690112,-83.608468,32.688015,-83.611063,32.688543,-83.607771,32.686884,-83.608363,32.683601,-83.60583,32.682426,-83.607009,32.679051,-83.60526,32.674885,-83.606795,32.67373,-83.59985,32.671755,-83.601317,32.669663,-83.597172,32.666877,-83.597656,32.664338,-83.605546,32.660674,-83.607788,32.664453,-83.611802,32.665371,-83.617713,32.663447,-83.626522,32.669562,-83.63334,32.668249,-83.638756,32.66908,-83.64538,32.67423,-83.660211,32.673788,-83.661433,32.675173,-83.663242,32.673762,-83.670256,32.677501,-83.673942,32.676958,-83.678489,32.679844,-83.679899,32.682769,-83.685189,32.685307,-83.688361,32.684645,-83.688328,32.686709,-83.69018,32.686991,-83.670003,32.701752,-83.666699,32.706933,-83.66506,32.7303,-83.655479,32.746716,-83.662017,32.757053,-83.661636,32.762363],
"013102":[-83.681662,32.802194,-83.676894,32.789212,-83.673528,32.789111,-83.67592,32.786524,-83.68345,32.785368,-83.70768,32.787439,-83.707457,32.798219,-83.69913,32.79804,-83.700388,32.803278,-83.69204,32.805946,-83.6855,32.805992,-83.68462,32.803704,-83.681662,32.802194],
"012900":[-83.66705,32.785674,-83.668225,32.788238,-83.666727,32.790909,-83.655949,32.791454,-83.654502,32.794282,-83.642514,32.795008,-83.651568,32.787861,-83.65123,32.780262,-83.66408,32.780576,-83.66705,32.785674],
"012800":[-83.659059,32.801836,-83.654384,32.803466,-83.642707,32.803638,-83.64265,32.795512,-83.645061,32.793973,-83.654502,32.794282,-83.655949,32.791454,-83.666727,32.790909,-83.659059,32.801836],
"012700":[-83.64935,32.819929,-83.649314,32.813893,-83.64266,32.813789,-83.642707,32.803638,-83.658651,32.802937,-83.655981,32.811014,-83.65578,32.82003,-83.64935,32.819929],
"012600":[-83.6855,32.805992,-83.687739,32.811329,-83.689638,32.81241,-83.688186,32.815271,-83.668023,32.81447,-83.667894,32.820208,-83.65578,32.82003,-83.655981,32.811014,-83.65948,32.800761,-83.668225,32.788238,-83.672685,32.784869,-83.673123,32.788964,-83.676894,32.789212,-83.681662,32.802263,-83.68462,32.803704,-83.6855,32.805992],
"012500":[-83.694355484878116,32.82623236300644,-83.687642,32.830264,-83.686962,32.833401,-83.67463,32.833152,-83.67426,32.828604,-83.675693,32.827655,-83.674332,32.826115,-83.67452,32.820203,-83.667894,32.820208,-83.668023,32.81447,-83.688186,32.815271,-83.692917,32.82049,-83.691793,32.821582,-83.694355484878116,32.82623236300644],
"012300":[-83.67999,32.850276,-83.681438,32.852775,-83.679528,32.853879,-83.663542,32.842094,-83.66408,32.831729,-83.67426,32.828604,-83.674744,32.836971,-83.687551,32.842881,-83.68793,32.848578,-83.678725,32.84713,-83.677356,32.848304,-83.67999,32.850276],
"011900":[-83.655904,32.868719,-83.653998,32.868981,-83.651295,32.86482,-83.637782,32.859584,-83.634476,32.853668,-83.638676,32.85432,-83.641634,32.85173,-83.647697,32.850499,-83.662429,32.850806,-83.662158,32.873965,-83.655904,32.868719],
"011800":[-83.690365,32.871805,-83.68611,32.872127,-83.685063,32.869703,-83.680402,32.871637,-83.679768,32.873311,-83.674987,32.874161,-83.675755,32.869389,-83.674081,32.865229,-83.679663,32.865969,-83.679875,32.864547,-83.663192,32.861331,-83.661377,32.863796,-83.662452,32.848878,-83.665624,32.848706,-83.665024,32.846049,-83.66761,32.844233,-83.68129,32.85511,-83.691033,32.860186,-83.688766,32.862661,-83.690365,32.871805],
"011701":[-83.599524,32.862766,-83.601718,32.867655,-83.606057,32.867797,-83.603926,32.874167,-83.60729,32.873738,-83.60955,32.875569,-83.607662,32.879649,-83.598187,32.887836,-83.579323,32.865781,-83.585379,32.865429,-83.596757,32.860402,-83.599524,32.862766],
"011500":[-83.64936,32.819597,-83.642474,32.825435,-83.6353,32.821095,-83.640085,32.813782,-83.649314,32.813893,-83.64936,32.819597],
"011100":[-83.592665,32.85305,-83.59285,32.847465,-83.594703,32.846092,-83.600985,32.848675,-83.60591,32.848225,-83.605972,32.853879,-83.61947,32.852584,-83.612829,32.863374,-83.612859,32.870832,-83.609366,32.877189,-83.60896,32.87426,-83.603926,32.874167,-83.606057,32.867797,-83.602311,32.86798,-83.600239,32.866422,-83.599915,32.863132,-83.596727,32.860768,-83.597093,32.857923,-83.592665,32.85305],
"010800":[-83.635399,32.834525,-83.643585,32.837727,-83.641753,32.84183,-83.640035,32.841321,-83.63743,32.847229,-83.641634,32.85173,-83.638164,32.85443,-83.634476,32.853668,-83.62819,32.845827,-83.63263,32.840961,-83.63105,32.839657,-83.635399,32.834525],
"010500":[-83.656968,32.825834,-83.65244,32.832737,-83.64935,32.832986,-83.645536,32.830722,-83.6458,32.827838,-83.642369,32.825545,-83.648751,32.819949,-83.65508,32.820014,-83.656968,32.825834],
"010400":[-83.66791,32.830685,-83.65244,32.832737,-83.656829,32.826546,-83.65578,32.82003,-83.67452,32.820203,-83.674332,32.826115,-83.675693,32.827655,-83.66791,32.830685],
"010300":[-83.653602,32.840624,-83.646,32.83796,-83.650326,32.832794,-83.66408,32.831729,-83.663549,32.841974,-83.653602,32.840624],
"010200":[-83.649973,32.842022,-83.642313,32.840632,-83.643961,32.8367,-83.66761,32.844233,-83.665024,32.846049,-83.665624,32.848706,-83.662452,32.848878,-83.662429,32.850806,-83.655193,32.851174,-83.65528,32.848919,-83.649592,32.847202,-83.652032,32.84331,-83.649973,32.842022],
"010100":[-83.649533,32.84176,-83.652032,32.84331,-83.649592,32.847202,-83.65528,32.848919,-83.655193,32.851174,-83.647697,32.850499,-83.642155,32.85239,-83.63743,32.847229,-83.640035,32.841321,-83.649533,32.84176],
"013202":[-83.714285,32.800331,-83.714446,32.80637,-83.723994,32.806606,-83.725488,32.809682,-83.711957,32.816172,-83.688186,32.815271,-83.689638,32.81241,-83.687739,32.811329,-83.6855,32.805992,-83.69204,32.805946,-83.700388,32.803278,-83.69913,32.79804,-83.71119,32.79866,-83.714318,32.797418,-83.714285,32.800331],
"013201":[-83.692917,32.82049,-83.688186,32.815271,-83.711957,32.816172,-83.725488,32.809682,-83.732746,32.832203,-83.74194,32.852241,-83.73635,32.854098,-83.733031,32.850105,-83.727719,32.851591,-83.723547,32.850154,-83.723511,32.848053,-83.721893,32.848844,-83.718777,32.846504,-83.71724,32.842042,-83.707249,32.838424,-83.7066,32.836078,-83.703369,32.834854,-83.702277,32.83159,-83.699897,32.831321,-83.69819,32.82817,-83.69559,32.82828,-83.691793,32.821582,-83.692917,32.82049],
"013101":[-83.71486,32.801385,-83.714318,32.797418,-83.70746,32.798605,-83.707076,32.786959,-83.679233,32.785261,-83.673528,32.789111,-83.672727,32.787384,-83.672685,32.784869,-83.700087,32.76697,-83.711801,32.752881,-83.711133,32.772534,-83.719118,32.786848,-83.720729,32.799045,-83.723994,32.806606,-83.714446,32.80637,-83.71486,32.801385],
"012400":[-83.709763,32.842545,-83.710247,32.847324,-83.707951,32.848315,-83.68808,32.847043,-83.687551,32.842881,-83.674744,32.836971,-83.67463,32.833152,-83.686962,32.833401,-83.687642,32.830264,-83.694359,32.826231,-83.695983,32.828581,-83.69819,32.82817,-83.699947,32.831356,-83.702277,32.83159,-83.703369,32.834854,-83.7066,32.836078,-83.707249,32.838424,-83.70919,32.838515,-83.709763,32.842545],
"012200":[-83.68003,32.850323,-83.677356,32.848304,-83.678725,32.84713,-83.68793,32.848578,-83.68808,32.847043,-83.706934,32.848402,-83.710247,32.847324,-83.712015,32.851255,-83.714359,32.851087,-83.713639,32.85358,-83.716721,32.858127,-83.692103,32.859023,-83.691033,32.860186,-83.679528,32.853879,-83.681438,32.852775,-83.68003,32.850323],
"012000":[-83.6586,32.887836,-83.655863,32.877519,-83.64798,32.879191,-83.644735,32.875235,-83.650335,32.873402,-83.653998,32.868981,-83.656669,32.868212,-83.662158,32.873965,-83.662402,32.861438,-83.679875,32.864547,-83.679663,32.865969,-83.674081,32.865229,-83.675755,32.869389,-83.674987,32.874161,-83.679768,32.873311,-83.680402,32.871637,-83.685063,32.869703,-83.68611,32.872127,-83.6902,32.872467,-83.682129,32.88268,-83.673283,32.886169,-83.68063,32.895103,-83.677101,32.898037,-83.678244,32.899628,-83.677155,32.90262,-83.674616,32.901747,-83.674501,32.902937,-83.663301,32.898736,-83.66069,32.896053,-83.6586,32.887836],
"011702":[-83.56543,32.876832,-83.548693,32.863441,-83.55504,32.85494,-83.571968,32.843789,-83.576401,32.844603,-83.583943,32.849347,-83.593387,32.845329,-83.595166,32.84613,-83.592863,32.847422,-83.5923,32.853648,-83.597093,32.857923,-83.596757,32.860402,-83.58515,32.865496,-83.578632,32.865142,-83.56543,32.876832],
"011000":[-83.655863,32.877519,-83.6586,32.887836,-83.599257,32.887839,-83.607822,32.879464,-83.612105,32.872746,-83.612829,32.863374,-83.619694,32.852241,-83.62819,32.845827,-83.6329,32.850535,-83.637782,32.859584,-83.64404,32.861256,-83.654001,32.867235,-83.651077,32.872893,-83.645169,32.874661,-83.645244,32.877315,-83.649273,32.879351,-83.655863,32.877519]  

  };
  // convert coordinates to mapped polygons
  for(tract in tractKml){
    var tractPts = tractKml[tract];
    var polyPts = [ ];
    for(var pt=0;pt<tractPts.length;pt+=2){
      polyPts.push( new google.maps.LatLng(tractPts[pt+1], tractPts[pt]) );
    }
    tractKml[tract] = new google.maps.Polygon({
      map: map,
      paths: polyPts,
      strokeColor: "#00f",
      strokeOpacity: 0.24,
      fillOpacity: 0.8
    });
    for(var t=0;t<eduData.length;t++){
      if(eduData[t]["tract"] == tract){
        bindTract(tractKml[tract], t);
        break;
      }
    }
  }
}
function bindTract(tractPoly, t){
  google.maps.event.addListener(tractPoly, 'click', function(e){
    var table = "<h3>Average Salary</h3><table border='1'><tr><td>PreHighSchool</td><td>" + eduData[t]["PreHighSchool"] + "</td></tr><tr><td>High School</td><td>" + eduData[t]["HighSchool"] + "</td></tr><tr><td>Some College/Associate's</td><td>" + eduData[t]["SomeCollegeAssociate"] + "</td></tr><tr><td>Bachelor's</td><td>" + eduData[t]["Bachelor"] + "</td></tr><tr><td>Professional</td><td>" + eduData[t]["Pro"] + "</td></tr></table>";
    var infoWindow = new google.maps.InfoWindow({
      content: table,
      map: map,
      position: e.latLng
    });
  });
}
function loadEduData(){
  var eduLevel = $("eduLevel").value;
  var maxmoney = 0;
  var minmoney = 100000000;
  for(var t=0;t<eduData.length;t++){
    if(!isNaN(eduData[t][eduLevel])){
      maxmoney = Math.max(maxmoney, eduData[t][eduLevel]);
      minmoney = Math.min(minmoney, eduData[t][eduLevel]);    
    }
  }
  for(var t=0;t<eduData.length;t++){
    var gshade = 134 + Math.round(120 * ((eduData[t][eduLevel] - minmoney)  /  ( maxmoney - minmoney )));
    var rshade = 200 - Math.round(183 * ((eduData[t][eduLevel] - minmoney)  /  ( maxmoney - minmoney )));
    var bshade = 17;

    if(isNaN(gshade)){
      tractKml[ eduData[t]["tract"] ].setOptions({ fillColor: "#ccc" });
    }
    else{
      //console.log("#" + rshade.toString(16) + gshade.toString(16) + bshade.toString(16));
      tractKml[ eduData[t]["tract"] ].setOptions({ fillColor: "#" + rshade.toString(16) + gshade.toString(16) + bshade.toString(16) });
    }
  }
}

function $(id){
  return document.getElementById(id);
}